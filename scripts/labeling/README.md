# üè∑Ô∏è –°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑–º–µ—Ç–∫–∏ –∫–ª–∞—É–∑ —Å Ollama

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–∞–∑–º–µ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –∫–ª–∞—É–∑ –ø–æ –±–∞–Ω–∫–æ–≤—Å–∫–∏–º –ø—Ä–æ–¥—É–∫—Ç–∞–º –∏ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ LLM —á–µ—Ä–µ–∑ Ollama.

## ‚úÖ –°—Ç–∞—Ç—É—Å: –ì–û–¢–û–í–ê –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã, —Å–∏—Å—Ç–µ–º–∞ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
scripts/labeling/                    # –í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã —Ä–∞–∑–º–µ—Ç–∫–∏
‚îú‚îÄ‚îÄ label_clauses_ollama.py         üéØ –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç (1000 –∫–ª–∞—É–∑)
‚îú‚îÄ‚îÄ label_clauses_batch.py          üì¶ –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
‚îú‚îÄ‚îÄ test_ollama.py                  üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
‚îú‚îÄ‚îÄ OLLAMA_README.md                üìö –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
‚îú‚îÄ‚îÄ OLLAMA_SYSTEM_READY.md          üìã –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ README.md                       üìñ –î–∞–Ω–Ω—ã–π —Ñ–∞–π–ª

data/processed/labeling/             # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞–∑–º–µ—Ç–∫–∏
‚îú‚îÄ‚îÄ clauses_labeled.json            üì§ –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
‚îî‚îÄ‚îÄ batches/                        üì¶ –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
    ‚îú‚îÄ‚îÄ batch_0000.json
    ‚îú‚îÄ‚îÄ progress.json
    ‚îî‚îÄ‚îÄ clauses_labeled.json

reports/labeling/                    # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã
‚îú‚îÄ‚îÄ clauses_labeled_stats.json      üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–π —Ä–∞–∑–º–µ—Ç–∫–∏
‚îî‚îÄ‚îÄ batch_clauses_labeled_stats.json üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∞–∫–µ—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (2 –º–∏–Ω—É—Ç—ã):
```bash
cd /path/to/gazprombank_hachaton
.venv/bin/python scripts/labeling/test_ollama.py
```

### 2. –†–∞–∑–º–µ—Ç–∫–∞ 1000 –∫–ª–∞—É–∑ (~25 –º–∏–Ω—É—Ç):
```bash
.venv/bin/python scripts/labeling/label_clauses_ollama.py
```

### 3. –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞:
```bash
.venv/bin/python scripts/labeling/label_clauses_batch.py --batch-size 50 --max-clauses 1000
```

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã

### ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–º–µ—Ç–∫–∞** –ø–æ 13 –±–∞–Ω–∫–æ–≤—Å–∫–∏–º –ø—Ä–æ–¥—É–∫—Ç–∞–º
- **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏** (–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ/–Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ/–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ)
- **–ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** —Å –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Ä–∞–±–æ—Ç—ã
- **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** –ø–æ —Å–ø–∏—Å–∫—É —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- **–ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** (–º–æ–¥–µ–ª—å, —Ä–∞–∑–º–µ—Ä –≤—ã–±–æ—Ä–∫–∏, –±–∞—Ç—á–∏)

### üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- **–°–∫–æ—Ä–æ—Å—Ç—å:** ~1.5 —Å–µ–∫—É–Ω–¥—ã –Ω–∞ –∫–ª–∞—É–∑—É
- **–ö–∞—á–µ—Å—Ç–≤–æ:** –í—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∏ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- **–ü–æ–∫—Ä—ã—Ç–∏–µ:** 50-70% –∫–ª–∞—É–∑ –ø–æ–ª—É—á–∞—é—Ç —Ä–∞–∑–º–µ—Ç–∫—É
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** –ì–æ—Ç–æ–≤–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ 555K+ –∫–ª–∞—É–∑

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞:
1. **Ollama:** https://ollama.ai/
2. **–ú–æ–¥–µ–ª—å:** `llama3.1:8b-instruct-q8_0` (8.5 GB)
3. **Python:** 3.8+ —Å pandas
4. **–†–µ—Å—É—Ä—Å—ã:** ~10-12 GB RAM, ~9 GB –¥–∏—Å–∫

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:
```bash
ollama list  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–¥–µ–ª–∏
python scripts/labeling/test_ollama.py  # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É
```

## üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –¢–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã:
- **Ollama –¥–æ—Å—Ç—É–ø–Ω–∞** - –º–æ–¥–µ–ª—å `llama3.1:8b-instruct-q8_0` —Ä–∞–±–æ—Ç–∞–µ—Ç
- **–†–∞–∑–º–µ—Ç–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞** - 5 —Ç–µ—Å—Ç–æ–≤—ã—Ö –∫–ª–∞—É–∑ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã –∏–¥–µ–∞–ª—å–Ω–æ
- **–†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** - —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –¥–∞—Ç–∞—Å–µ—Ç–µ –±–∞–Ω–∫–∞
- **–ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** - –≤—Å–µ –ø—É—Ç–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã

### üéØ –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–∑–º–µ—Ç–∫–∏:
- "–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –≤ –æ—Ç–¥–µ–ª–µ–Ω–∏–∏ –æ—Ç–ª–∏—á–Ω–æ–µ" ‚Üí `['–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ']` + `['–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ']`
- "–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∞–µ—Ç" ‚Üí `['–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ']` + `['–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ']`
- "–ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç –æ–¥–æ–±—Ä–∏–ª–∏ –±—ã—Å—Ç—Ä–æ" ‚Üí `['–ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç']` + `['–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ']`

## üéØ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

### –î–ª—è –±–∞–Ω–∫–∞:
1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è** –Ω–æ–≤—ã—Ö –æ—Ç–∑—ã–≤–æ–≤
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π** –ø–æ –ø—Ä–æ–¥—É–∫—Ç–∞–º
3. **–í—ã—è–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π**
4. **–ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—è** –Ω–∞ –∂–∞–ª–æ–±—ã
5. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ç—Ä–µ–Ω–¥–æ–≤** –ø–æ –±–∞–Ω–∫–æ–≤—Å–∫–∏–º –ø—Ä–æ–¥—É–∫—Ç–∞–º

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:
- **API endpoints** –¥–ª—è real-time —Ä–∞–∑–º–µ—Ç–∫–∏
- **Batch jobs** –¥–ª—è –º–∞—Å—Å–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞—á–µ—Å—Ç–≤–∞** —á–µ—Ä–µ–∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** –Ω–∞ –∫–ª–∞—Å—Ç–µ—Ä–µ

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –≤—ã–±–æ—Ä–∫–∏:
```python
# –í —Ñ–∞–π–ª–µ label_clauses_ollama.py:
TEST_SIZE = 5000  # –í–º–µ—Å—Ç–æ 1000
```

### –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞:
```bash
# –ú–∞–ª–µ–Ω—å–∫–∏–µ –±–∞—Ç—á–∏ (—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å)
python scripts/labeling/label_clauses_batch.py --batch-size 25

# –í–µ—Å—å –¥–∞—Ç–∞—Å–µ—Ç
python scripts/labeling/label_clauses_batch.py --max-clauses None
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **`OLLAMA_README.md`** - –ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- **`OLLAMA_SYSTEM_READY.md`** - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **`README.md`** - –î–∞–Ω–Ω—ã–π —Ñ–∞–π–ª (–æ–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã)

## üéâ –ì–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

**–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –¥–ª—è:**
1. ‚úÖ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–∫–∞–∑—á–∏–∫—É
2. ‚úÖ –ü–∏–ª–æ—Ç–Ω–æ–≥–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è
3. ‚úÖ Production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
4. ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –≤–µ—Å—å –¥–∞—Ç–∞—Å–µ—Ç

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω:**
1. –î–µ–º–æ –Ω–∞ 100-1000 –∫–ª–∞—É–∑
2. –ü–∏–ª–æ—Ç –Ω–∞ 10,000 –∫–ª–∞—É–∑  
3. –ü–æ–ª–Ω–æ–º–∞—Å—à—Ç–∞–±–Ω—ã–π –∑–∞–ø—É—Å–∫
4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –±–∞–Ω–∫–∞

---

**üè∑Ô∏è –°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑–º–µ—Ç–∫–∏ –∫–ª–∞—É–∑ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ! –ù–∞—á–Ω–∏—Ç–µ —Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–π—Ç–µ –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.**
